{%- style -%}
  @media (min-aspect-ratio: 16/9) {
    video {
      width: 100%;
      height: auto;
    }
  }
  @media (max-aspect-ratio: 16/9) {
    video {
      width: auto;
      height: 100%;
    }
  }
{%- endstyle -%}

<div class="video-wrapper">

<!-- ==== homepage.html ==== -->

<video class="full-width-video" id="hero-video"
  playsinline muted loop autoplay
  poster="https://cdn.shopify.com/s/files/1/0427/1217/0661/files/HOUSE_OF_CHOCOLAT_banner.png?v=1691945417"
  data-src-mobile="https://cdn.shopify.com/videos/c/o/v/298700b26b0149c98919737d206abb34.mp4"
  data-src-desktop="https://cdn.shopify.com/videos/c/o/v/d3cbca5fadca4f7badcc2f0779f11392.mp4">
    <div class="video-error">Uhoh, no video for you.</div>
</video>

  <video autoplay muted loop playsinline poster="https://cdn.shopify.com/s/files/1/0427/1217/0661/files/HOUSE_OF_CHOCOLAT_banner.png?v=1691945417">
    <source src="https://cdn.shopify.com/videos/c/o/v/298700b26b0149c98919737d206abb34.mp4" type="video/mp4">
    <img src="https://cdn.shopify.com/s/files/1/0427/1217/0661/files/HOUSE_OF_CHOCOLAT_banner.png?v=1691945417">
  </video>
</div>

<script type="text/javascript">
  const DESKTOP_BREAKPOINT = 480;
  window.addEventListener("load",function() {
    let heroVideoEl = document.getElementByID("hero-video");
    let heroVideoSrc = heroVideoEl.dataset.srcMobile
    let viewportWidth = window.innerWidth;
    if (viewportWidth >= DESKTOP_BREAKPOINT) {
      heroVideoSrc = heroVideoEl.dataset.srcDesktop;
    }
    heroVideoEl.src = heroVideoSrc;
  })
</script>

{% schema %}
{
  "name": "Video banner",
  "tag": "section",
  "class": "section",
  "settings": [
  ],
  "presets": [
  ]
}
{% endschema %}
